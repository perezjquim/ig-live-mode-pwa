sap.ui.define(["./util/BaseController","sap/m/MessageBox","sap/ui/core/Fragment"],function(e,t,n){"use strict";return e.extend("com.perezjquim.iglivemode.pwa.controller.Config",{getGeneralBlacklist:function(e){const t=this.getModel("config");const n=t.getProperty("/general_blacklist");return e.filter(function(e){return n.includes(e["username"])})},getLiveWhitelist:function(e){const t=this.getModel("config");const n=t.getProperty("/live_whitelist");return e.filter(function(e){return n.includes(e["username"])})},onToggleUserInGeneralBlacklist:function(e){this._toggleUser(e,"/general_blacklist")},onToggleUserInLiveWhitelist:function(e){this._toggleUser(e,"/live_whitelist")},_toggleUser:function(e,t){const n=e.getSource();const i=n.getBindingContext("ig_user_info");const s=i.getProperty("username");const o=this.getModel("config");var r=o.getProperty(t);if(r.includes(s)){r.splice(r.indexOf(s),1)}else{r.push(s)}o.setProperty(t,r);this._saveConfig()},_saveConfig:function(){this.setBusy(true);const e=this.getModel("config");const t=e.getData();const n=JSON.stringify(t);const i=this.getStorage();i.setItem("config",n);this.setBusy(false)}})});