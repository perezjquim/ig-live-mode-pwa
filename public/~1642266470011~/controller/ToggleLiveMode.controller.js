sap.ui.define(["./util/BaseController","sap/ui/core/Fragment"],function(e,t){"use strict";return e.extend("com.perezjquim.iglivemode.pwa.controller.ToggleLiveMode",{onPressEnableLive:function(e){this._executeAction("enable-live")},onPressDisableLive:function(e){this._executeAction("disable-live")},_executeAction:function(e){this.setBusy(true);fetch(`${this.API_BASE_URL}/${e}`,{method:"POST",headers:this._getHeaders()}).then(e=>{if(e.ok){const e=this.getText("action_success");this.toast(e)}else{const e=this.getText("action_error");this.toast(e)}}).catch(()=>{const e=this.getText("action_error");this.toast(e)}).finally(()=>{this.setBusy(false)})}})});