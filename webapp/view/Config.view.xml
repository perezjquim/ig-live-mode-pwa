<mvc:View 
    controllerName="com.perezjquim.iglivemode.pwa.controller.Config" 
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core">
    <Page 
        title="{i18n>Config}">
        <f:SimpleForm 
            editable="true">
            <f:content>
                <Label 
                    text="{i18n>general_blacklist}" />
                <Table
                    fixedLayout="false"
                    items="{ig_user_info>/followers}">
                    <headerToolbar>
                        <OverflowToolbar>
                            <content>
                                <core:Icon
                                    src="sap-icon://private"
                                    color="Negative"/>
                                <ObjectStatus
                                    state="Error"
                                    text="{i18n>general_blacklist_tip}"/>
                            </content>
                        </OverflowToolbar>
                    </headerToolbar>                    
                    <columns>
                        <Column>
                            <Label text="{i18n>user}" />
                        </Column>          
                        <Column>
                            <Label />
                        </Column>            
                        <Column>
                            <Label />
                        </Column>                                                                          
                    </columns>
                    <items>
                        <ColumnListItem>
                            <cells>
                                <Avatar 
                                    src="{ig_user_info>profile_pic_content}"
                                    displaySize="S"
                                    showBorder="true" />                                    
                                <Text    
                                    text="{= ${ig_user_info>full_name} || '-' } ({ig_user_info>username})"/>
                                <CheckBox
                                    select="onToggleUserInGeneralBlacklist"
                                    selected="{= ${config>/general_blacklist}.includes(${ig_user_info>username}) }" />
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>     
                <Label 
                    text="{i18n>live_whitelist}" />
                <Table
                    fixedLayout="false"
                    items="{ig_user_info>/followers}">
                    <headerToolbar>
                        <OverflowToolbar>
                            <content>
                                <core:Icon
                                    src="sap-icon://role"
                                    color="Positive"/>
                                <ObjectStatus
                                    state="Success"
                                    text="{i18n>live_whitelist_tip}"/>                                    
                            </content>
                        </OverflowToolbar>
                    </headerToolbar>                    
                    <columns>
                        <Column>
                            <Label text="{i18n>user}" />
                        </Column>  
                        <Column>
                            <Label />
                        </Column>            
                        <Column>
                            <Label />
                        </Column>                                                                 
                    </columns>
                    <items>
                        <ColumnListItem>
                            <cells>
                                <Avatar 
                                    src="{ig_user_info>profile_pic_content}"
                                    displaySize="S"
                                    showBorder="true" />                                    
                                <Text   
                                    text="{= ${ig_user_info>full_name} || '-' } ({ig_user_info>username})"/>      
                                <CheckBox
                                    select="onToggleUserInLiveWhitelist"
                                    selected="{= ${config>/live_whitelist}.includes(${ig_user_info>username}) }" />                                         
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>         
            </f:content>            
        </f:SimpleForm>        
    </Page>
</mvc:View>